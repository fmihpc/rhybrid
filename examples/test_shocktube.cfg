# 1D shocktube configuration
# Use Makefile: USE_SHOCKTUBE_TEST_CONFIGURATION := true
# Bx = 1.5 nT
# Bz = 0
# x >= 0.5e5: By =  1 nT, p = n*kB*T = 1e6*kB*7.243e4 = 1e-12 (H+: leftH+)
# x <  0.5e5: By = -1 nT, p = n*kB*T = 3e6*kB*7.243e4 = 3e-12 (H+: rightH+)

gridbuilder = LogicallyCartesian

[Restart]
filename = 

[Simulation]
time_initial = 0.0
maximum_timesteps = 10000
dt = 0.0001
data_save_interval = 50
data_save_interval_unit = timestep
data_save_initial_state = yes
maximum_load_imbalance = 1.2
repartition_check_interval = 100
random_number_generator.seed = 6461674
restart_write_interval = 0
restart_major_store_interval = 0
restart_minor_store_amount = 0
#restart = yes
save_particles = 0
mesh_always_written = yes

[LoadBalance]
methods = RCB
#methods = RANDOM
tolerances = 1.05
processes_per_partition = 2

[LogicallyCartesian]
geometry = cartesian
x_periodic = no
y_periodic = no
z_periodic = yes
x_min = 0
y_min = -30
z_min = -10
x_max = 1e5
y_max = 30
z_max = +10
dx_uniform = yes
dy_uniform = yes
dz_uniform = yes
x_size = 5000
y_size = 3
z_size = 1
x_label = x-axis
y_label = y-axis
z_label = z-axis
x_units = m
y_units = m
z_units = m
force_cubic_cells = yes

[DataOperatorExcludes]
exclude_list =

[Hybrid]
log_interval = 5
log_precision = 20
includeInnerCellsInFieldLog = 0
main_log_diagnostics_interval = 20
output_parameters = cellB n v
save_reduced_state_interval = 0
save_reduced_state_Nstride = 10
save_reduced_state_include_particles = 0
save_particles = 0
save_particles_Nstride = 10
R_object = 1e3
R_fieldObstacle = -100
fieldObstacleUe = (0,0,0)
R_particleObstacle = -100
R_cellEpObstacle = -100
gravity = 0
M_object = 0
initialFlowThroughPeriodFactor = -1
maxUe = 100e3
maxVi = 100e3
minRhoQi = 8.01088265e-15
terminateLimitMaxB = 1000e-9
maxE = -100
maxVw = 5000e3
hall_term = 0
include_B0_faraday = 0
electron_pressure = 0
Te = 1
Efilter = 0
EfilterNodeGaussSigma = 0
particle.population.uniform = leftH+
particle.population.uniform = rightH+

[Resistivity]
profile_name = resistivityConstant
value_unit = grid
value = 0.002
R = 0

[OuterBoundaryZone]
etaBoundarySizes = 0 0 0 0 0 0
etaBoundaryCoeffs = 1 1 1 1 1 1
typeMinRhoQi = 0
sizeMinRhoQi = 0
minRhoQi = 0
constUe = 0

[IMF]
Bx = 0.0
By = 0.0
Bz = 0.0
BoundaryCellB = 0 0 0 0 0 0
BoundaryFaceB = 0 0 0 0 0 0

[IntrinsicB]
profile_name = constantBx
laminarR = 0
coeffDipole = 0
coeffQuadrupole = 0
dipoleSurfaceB = 0
dipoleSurfaceR = 1000e3
minimumR = 1000e3
x = 0
y = 0
z = 0
theta = 0
phi = 0

[BackgroundChargeDensity]
profile_name = none
R = -1
r0 = -1
n0 = -1

[leftH+]
mass_unit = MASS_PROTON
charge_unit = CHARGE_ELEMENTARY
mass = 1.0
charge = +1.0
obstacle = -100.0
accumulate = 1
accelerate = 1
output_str = H+
output_plasma = 1
injector.name = UniformInjector
injector.parameters = injector_leftH+
accumulator.name = HybridAccumulator
accumulator.parameters =
boundary_condition.name = HybridBoundaryCond
boundary_condition.parameters =
propagator.name = BorisBuneman
propagator.parameters =

[injector_leftH+]
velocity = (0,0,0)
density = 1e6
temperature = 7.243e4
macroparticles_per_cell = 1000
xmin = 0
xmax = 50e3

[rightH+]
mass_unit = MASS_PROTON
charge_unit = CHARGE_ELEMENTARY
mass = 1.0
charge = +1.0
obstacle = -100.0
accumulate = 1
accelerate = 1
output_str = H+
output_plasma = 1
injector.name = UniformInjector
injector.parameters = injector_rightH+
accumulator.name = HybridAccumulator
accumulator.parameters =
boundary_condition.name = HybridBoundaryCond
boundary_condition.parameters =
propagator.name = BorisBuneman
propagator.parameters =

[injector_rightH+]
velocity = (0,0,0)
density = 3e6
temperature = 7.243e4
macroparticles_per_cell = 1000
xmin = 50e3
xmax = 100e3
